<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta property="og:title" content="å®é”æ‰¹ç™¼ - é›»å­è½å–®">
    <meta property="og:description" content="æŒ‰æ­¤é–‹å§‹è‡ªåŠ©ä¸‹å–®">
    <title>å®é”æ‰¹ç™¼ - é›»å­è½å–®</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: #f8f9fa; padding-bottom: 140px; }
        
        /* é ‚éƒ¨å€åŸŸ */
        .sticky-header-container { position: sticky; top: 0; z-index: 1020; background-color: #212529; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .top-info { padding: 12px 15px 5px 15px; color: white; cursor: pointer; transition: background 0.2s; }
        .top-info:active { background-color: #343a40; }
        .client-name { font-size: 1.3rem; font-weight: 800; color: #ffc107; display: flex; align-items: center; gap: 5px; }
        .client-code { font-size: 0.85rem; color: #ccc; margin-top: 2px; }
        
        /* å°èˆª */
        .nav-tabs { border-bottom: none; padding: 0 10px; }
        .nav-link { color: #aaa; font-weight: bold; border: none; border-radius: 10px 10px 0 0; padding: 10px 15px; font-size: 1rem; background: transparent; }
        .nav-link.active { background-color: #f8f9fa; color: #000; border-bottom: 4px solid #ffc107; }
        
        /* æœå°‹ */
        .search-section { background-color: #f8f9fa; padding: 10px 15px; border-bottom: 1px solid #ddd; display: none; }
        .search-wrapper { position: relative; }
        .search-input { border-radius: 20px; border: 1px solid #ccc; padding: 8px 35px 8px 15px; width: 100%; }
        .btn-clear-search { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #adb5bd; cursor: pointer; font-size: 1.1rem; display: none; z-index: 10; }
        
        /* ç”¢å“åˆ—è¡¨ */
        .cat-header { background-color: #ffc107; color: #000; font-weight: 800; padding: 8px 15px; margin-top: 0; font-size: 1.1rem; border-bottom: 1px solid #e0a800; }
        .product-row { background: white; border-bottom: 1px solid #eee; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; }
        .p-info { flex: 1; padding-right: 10px; overflow: hidden; }
        .p-name { font-size: 1.1rem; font-weight: 700; color: #000; line-height: 1.3; margin-bottom: 2px; }
        .p-code { font-size: 0.85rem; color: #888; font-weight: normal; font-family: Arial, sans-serif; }
        
        /* æ•¸é‡æ§åˆ¶ */
        .qty-control { display: flex; align-items: center; background: #fff; border: 1px solid #ced4da; border-radius: 8px; width: 120px; justify-content: space-between; height: 38px; flex-shrink: 0; overflow: hidden; }
        .qty-btn { width: 35px; height: 100%; border-radius: 0; background: #f8f9fa; color: #212529; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; font-size: 1.2rem; user-select: none; border: none; }
        .qty-btn:active { background: #ffc107; }
        .qty-input { width: 50px; text-align: center; border: none; font-weight: bold; font-size: 1.1rem; color: #333; background: transparent; padding: 0; }
        .qty-input.unit-kg { color: #d63384; font-size: 1rem; }
        .product-row.selected { background-color: #fff9db; border-left: 5px solid #ffc107; }
        
        /* åº•éƒ¨ */
        .bottom-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: white; box-shadow: 0 -4px 15px rgba(0,0,0,0.15); padding: 10px 15px; z-index: 1030; display: flex; flex-direction: column; gap: 8px; }
        .bottom-row-1 { display: flex; justify-content: space-between; align-items: center; width: 100%; gap: 10px; }
        .total-box { font-size: 1.1rem; font-weight: bold; color: #333; }
        .total-num { color: #d32f2f; font-size: 1.4rem; padding: 0 3px; }
        .btn-view-cart { background-color: #6c757d; color: white; border: none; padding: 10px 18px; border-radius: 50px; font-weight: bold; font-size: 0.95rem; white-space: nowrap; transition: all 0.3s ease; }
        .btn-view-cart.active { background: linear-gradient(45deg, #ff9800, #ff5722); box-shadow: 0 4px 12px rgba(255, 87, 34, 0.4); transform: scale(1.05); }
        .btn-whatsapp { background-color: #25D366; color: white; border: none; padding: 10px 20px; border-radius: 50px; font-weight: bold; font-size: 1.1rem; flex-grow: 1; display: flex; align-items: center; justify-content: center; gap: 5px; box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3); }
        
        /* åŠ å–® Checkbox æ¨£å¼ */
        .addon-row { display: flex; align-items: center; justify-content: flex-end; width: 100%; padding-right: 5px; }
        .form-check-input { width: 1.3em; height: 1.3em; margin-right: 8px; cursor: pointer; border: 2px solid #adb5bd; }
        .form-check-input:checked { background-color: #ffc107; border-color: #ffc107; }
        .addon-label { font-weight: bold; color: #555; font-size: 0.95rem; cursor: pointer; display: flex; align-items: center; }
        .addon-label.active { color: #d39e00; }

        /* Modal & Utilities */
        .tab-content { display: none; padding-top: 10px; }
        .tab-content.active { display: block; }
        .modal-header { background-color: #212529; color: white; }
        .modal-title { font-weight: bold; color: #ffc107; }
        .unit-btn-group { display: flex; gap: 15px; justify-content: center; padding: 20px; }
        .btn-unit-select { flex: 1; padding: 15px; border: 2px solid #ddd; border-radius: 10px; background: white; font-weight: bold; font-size: 1.1rem; text-align: center; cursor: pointer; transition: all 0.2s; }
        .btn-unit-select:hover { background-color: #f8f9fa; }
        .btn-unit-select.piece { border-color: #212529; color: #212529; }
        .btn-unit-select.kg { border-color: #d63384; color: #d63384; }
        .btn-unit-select i { display: block; font-size: 1.5rem; margin-bottom: 5px; }
        
        /* å¸¸ç”¨æ¸…å–®åº•éƒ¨æŒ‰éˆ• */
        .freq-footer { padding: 30px 15px 50px 15px; text-align: center; }
        .btn-reset-freq { color: #adb5bd; border: 1px solid #dee2e6; font-size: 0.85rem; border-radius: 50px; padding: 8px 20px; background: white; transition: all 0.2s; }
        .btn-reset-freq:hover { background-color: #fff5f5; color: #dc3545; border-color: #dc3545; }
    </style>
</head>
<body>

<div class="sticky-header-container">
    <div class="top-info d-flex justify-content-between align-items-center" onclick="openProfileModal()">
        <div>
            <div class="client-name">
                <span id="displayClientName">è«‹è¼¸å…¥åº—å</span>
                <i class="bi bi-pencil-square" style="font-size: 0.9rem; opacity: 0.7;"></i>
            </div>
            <div class="client-code">ç·¨è™Ÿ: <span id="displayClientCode">---</span></div>
        </div>
        <div style="text-align: right; font-size: 0.8rem; color: #ccc;">
            å®é”æ‰¹ç™¼<br>Tel: 63771688
        </div>
    </div>
    
    <ul class="nav nav-tabs">
        <li class="nav-item" style="flex:1; text-align:center;">
            <button class="nav-link active" style="width:100%" onclick="switchTab('frequent')">ğŸŒŸ å¸¸ç”¨æ¸…å–®</button>
        </li>
        <li class="nav-item" style="flex:1; text-align:center;">
            <button class="nav-link" style="width:100%" onclick="switchTab('all')">ğŸ“‹ å…¨éƒ¨ç”¢å“</button>
        </li>
    </ul>
    
    <div class="search-section" id="searchBar">
        <div class="search-wrapper">
            <input type="text" id="searchInput" class="search-input" placeholder="ğŸ” æœå°‹ç”¢å“ / ç·¨è™Ÿ..." oninput="filterAllProducts()">
            <i class="bi bi-x-circle-fill btn-clear-search" id="clearSearchBtn" onclick="clearSearch()"></i>
        </div>
    </div>
</div>

<div id="tab-frequent" class="tab-content active"></div>
<div id="tab-all" class="tab-content"></div>

<div class="bottom-bar">
    <div class="addon-row">
        <input class="form-check-input" type="checkbox" id="addonCheck" onchange="toggleAddonMode()">
        <label class="addon-label" for="addonCheck" id="addonLabel">
            é€™æ˜¯ã€å¾ŒåŠ ã€‘è¨‚å–® (è£œå……)
        </label>
    </div>
    
    <div class="bottom-row-1">
        <div class="total-box">
            å…± <span id="totalQty" class="total-num">0</span> æ¬¾
        </div>
        <button id="viewCartBtn" class="btn-view-cart" onclick="openCartModal()" disabled>
            <i class="bi bi-cart3"></i> æŸ¥çœ‹å·²é¸
        </button>
        <button class="btn-whatsapp" id="sendBtn" onclick="sendWhatsApp()">
            <i class="bi bi-whatsapp"></i> ç™¼é€è¨‚å–®
        </button>
    </div>
</div>

<div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">ğŸ“ è¨­å®šå®¢æˆ¶è³‡æ–™</h5>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-bold">åº—é‹ªåç¨± <span class="text-danger">*</span></label>
                    <input type="text" id="inputShopName" class="form-control form-control-lg" placeholder="ä¾‹å¦‚ï¼šé™³è¨˜é¤å»³">
                    <div id="nameError" class="text-danger mt-1" style="display:none; font-size:0.85rem;">* å¿…é ˆå¡«å¯«åº—é‹ªåç¨±</div>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">å®¢æˆ¶ç·¨è™Ÿ (ç”±å®é”æä¾›)</label>
                    <input type="text" id="inputShopCode" class="form-control" placeholder="ä¾‹å¦‚ï¼šA8888 (æœªæœ‰å¯ç•™ç©º)">
                    <div class="form-text">å¦‚å±¬æ–°å®¢æˆ¶æˆ–æ€¥å–®ï¼Œæ­¤æ¬„å¯ç•™ç©ºã€‚</div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btnCancelProfile" data-bs-dismiss="modal" style="display:none;">å–æ¶ˆ</button>
                <button type="button" class="btn btn-primary w-100" onclick="saveProfile()">ç¢ºèªä¿å­˜</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header"><h5 class="modal-title">å·²é¸ç”¢å“æ¸…å–®</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button></div>
            <div class="modal-body" id="cartModalBody"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger me-auto" onclick="clearCart()"><i class="bi bi-trash"></i> æ¸…ç©º</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ç¹¼çºŒé¸è³¼</button>
                <button type="button" class="btn btn-success" onclick="sendWhatsApp()">ç¢ºèªç™¼é€</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="unitSelectionModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header"><h5 class="modal-title">è«‹é¸æ“‡è¨ˆåƒ¹å–®ä½</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button></div>
            <div class="modal-body">
                <p class="text-center mb-3">æ­¤ç”¢å“æ”¯æŒç¨±é‡è¨ˆåƒ¹ï¼Œè«‹ç¢ºèªå–®ä½ï¼š</p>
                <div class="unit-btn-group">
                    <button id="btn-unit-piece" class="btn-unit-select piece" onclick="confirmUnit('piece')"><i class="bi bi-box-seam"></i> ä»¶ / åŒ…<br>(é»˜èª)</button>
                    <button class="btn-unit-select kg" onclick="confirmUnit('kg')"><i class="bi bi-speedometer2"></i> KG<br>(å…¬æ–¤)</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // ==========================================
    // V9.2 æ ¸å¿ƒ: é€šç”¨å‹ + å¾ŒåŠ è¨‚å–® + ä»‹é¢è‡ªå‹•åˆ·æ–°
    // ==========================================
    let shopName = "";
    let shopCode = "";
    const storageKey = "hunda_v9_stable"; 

    // ç”¢å“åˆ—è¡¨
    const eelProducts = ["D22J", "D22L", "D22", "D22C", "D22A", "D22D", "D22I", "D22G"];
    const weightedProducts = ["D61B", "D61C", "D18A", "D17E", "D17C", "B01", "D18"];
    const fullCatalog = [
        { cat: "ç’°çƒæµ·è†½", items: ["è† ç›’æµ·è†½ (A06F)", "åŠ æ‹¿å¤§æµ·è†½ (A03)", "æ¾³æ´²æµ·è†½ (A08)", "ç·´æµ·è†½é†¬ (C59)", "å‡æµ·è†½æ¼¿ (D01)", "ç´«æµ·è†½(è† ç›’) (A07C)", "å¢¨è¥¿å“¥æµ·è†½ (A12A)", "å¢¨è¥¿å“¥æµ·è†½10æ ¼ (A12B)", "æœ¬åœ°æµ·è†½ (A02)", "å‡ç†Ÿé¦¬ç³è†½ (A06E)"] },
        { cat: "æ—¥æœ¬æµ·è†½", items: ["A Grade(ç›´æ’) (AJ1)", "A Grade(äº‚æ’) (AJ4)", "B Grade(äº‚æ’) (AJ3)", "é¹½æ°´æµ·è†½ (AJ6)"] },
        { cat: "é®®æ´»æµ·ç”¢é¡", items: ["æ´»èµ¤è² (B01)", "æ²¹ç”˜é­š (B50B)", "ä¸‰æ–‡é­š (B14)", "é®®ä¸‰æ–‡é­šæŸ³ (B14H)"] },
        { cat: "æ—¥æœ¬é®®è²¨", items: ["é®®å¤§æ‹–ç¾…è…¹1ï¼ˆèµ¤èº«é™„ï¼‰ (B67A)", "é®®å¤§æ‹–ç¾…è…¹2ï¼ˆèµ¤èº«é™„ï¼‰ (B67B)", "é®®åæ‹¿é­šèµ¤èº«ï¼ˆå»è¡€åˆï¼‰ (B67C)", "é–“å…« (B04)", "ç´°æ± é­š (B55A)", "é‡‘ç›®é¯› (B74C)", "èœœæŸ‘é¯› (B20E)", "çœŸé¯› (B20G)", "é¯–é­š (B73)", "å¹³ç›® (B74G)", "é­´é®„ (B55D)", "æ´»åŒ—å¯„è² (B09)", "é®®å¸¶å­è‚‰(ç”Ÿé£Ÿç”¨) (B13)", "ä»¤å’Œä¹‹æ€ªç‰© (B08SB)", "å¤ªåˆ€é­š (B55E)", "ä¼Šå·¦æœ¨ (B74F)", "æ´»ç²’è² (B02E)", "å³é£Ÿç”Ÿè ”300g (B08TB)"] },
        { cat: "æ–°é®®è”¬èœ/è£é£¾èŠ±è‘‰", items: ["å¤§è‘‰ (C01)", "ç¶ æ¥“è‘‰ (C01FA)", "ç´…æ¥“è‘‰ (C01FB)", "æ—¥æœ¬å°èŠï¼ˆé»ƒï¼‰ (C01CA)", "é’æ¤’ä»” (C01CJ)", "è¬èƒ½è”¥ (C01CH)", "è¿·ä½ é£Ÿç”¨ç«ç‘° (C01CO)", "å—ç“œ (C05)", "ç«¹è‘‰ (C04)", "ä¸‰æ”¯è‘‰ (C01F)", "èŠ±ç©—ç´«è˜‡ (C01CB)", "æ°´èœ (C01CK)", "ç«‹æ¡‚ (C01CG)", "ç´…æ¤’çµ² (C01D)", "æ—¥æœ¬ç•ªè–¯ (C05A)"] },
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆè¦é¡ï¼‰", items: ["ATC åŠ æ‹¿å¤§ç‰¡ä¸¹è¦ L (D04A)", "ATC åŠ æ‹¿å¤§ç‰¡ä¸¹è¦ XL (D04B)", "ATC åŠ æ‹¿å¤§ç‰¡ä¸¹è¦ J (D04C)", "ATC åŠ æ‹¿å¤§ç‰¡ä¸¹è¦ XJ (D04D)", "é˜¿æ ¹å»·èµ¤è¦ L1 (D10JA)", "é˜¿æ ¹å»·èµ¤è¦ L2 (D10JAA)", "ä¿„ç¾…æ–¯ç‰¡ä¸¹J (D03EB)", "ç‰¡ä¸¹è¦L(é»‘ç›’) (D03A)", "åŸéš»æœ‰é ­ç”œè¦ LA (D10F)", "åŸéš»æœ‰é ­ç”œè¦ 2L (D10)", "åŸéš»æœ‰é ­ç”œè¦ 3L (D10A)", "åŸéš»æœ‰é ­ç”œè¦ 4L (D10D)", "å¤©ä½¿è¦ (D10M)", "æµ·èµ¤è¦8L (D10JE)", "æµ·èµ¤è¦9L (D10JD)", "ç„¡é ­ç”œè¦M50 (D10K)", "ç„¡é ­ç”œè¦L50 (D10KC)", "å£½å¸ç†Ÿè¦ 3L (D03DD)", "å£½å¸ç†Ÿè¦ 4L (D03DC)", "è™è¦åˆºèº«8g (D10N)", "è™è¦åˆºèº«10g (D10NA)", "æµ·è†½è¦2L (D03G)", "å£½å¸ç»ç’ƒè¦3L (D03CA)", "å£½å¸ç†Ÿè¦ 7L (D03DA)", "å£½å¸ç†Ÿè¦ 8L (D03D)", "å¤©å©¦ç¾…è¦5L (D10ED)", "25gå‰åˆ—è¦ï¼ˆé»ƒç³ ï¼‰ (D10EAA)"] },
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆå¸¶å­åŠè²æ®¼é¡ï¼‰", items: ["æ—¥æœ¬åˆºèº«å¸¶å­ 5S (D09GA)", "æ—¥æœ¬åˆºèº«å¸¶å­ 4S (D09D)", "æ—¥æœ¬åˆºèº«å¸¶å­ 3S (D09B)", "æ—¥æœ¬åˆºèº«å¸¶å­ 2S (D09F)", "æ—¥æœ¬åˆºèº«å¸¶å­ S (D09A)", "æ—¥æœ¬åˆºèº«å¸¶å­ M (D09)", "æ—¥æœ¬åˆºèº«å¸¶å­ L (D09C)", "æ—¥æœ¬åˆºèº«å¸¶å­ 2L (D09M)", "æ—¥æœ¬åˆºèº«å¸¶å­ 3L (D09G)", "åˆºèº«å¸¶å­S 500g (D09AB)", "èª¿å‘³æ‰‡è²åˆ‡ç‰‡8g (D09LA)", "åŒ—å¯„è²L (D47A)", "åŒ—å¯„è²M (D47)", "åŒ—å¯„è²ç‰‡ (D47B)", "é¦¬åˆ€è²6g (D07)", "é¦¬åˆ€è²10g (D07A)", "èµ¤è²è‚‰21/25 (D48A)", "èµ¤è²è‚‰16/20 (D48B)", "èµ¤è²ç‰‡7g (D48E)", "èµ¤è²ç‰‡8g (D48G)", "åˆºèº«æµ·èºç‰‡(é¦¬åˆ€è²25g) (D07F)", "åˆºèº«èµ¤èºç‰‡ (D07BA)", "æ¦®èºç‰‡ (D07B)", "è±¡æ‹”èšŒç‰‡ (D44B)", "å†°å±±èšŒç‰‡åˆºèº« (D44D)"] },
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆé­šé¡ï¼‰", items: ["æ€¥å‡æ²¹ç”˜é­šæŸ³ï¼ˆåŠé‚Šï¼‰ (D69)", "è¢å…‰é­·é­šæ²–æ¼¬ (D41AB)", "æ²¹ç”˜é­šé®« (D69B)", "å‡ç†Ÿè¢å…‰é­·é­š (D41F)", "æ—¥æœ¬ç´‹ç”²é­·é­š500g (D39B)", "1Kç´‹ç”²é­·é­š (D39BA)", "å£½å¸å¢¨é­šç‰‡(8g) (D39)", "åˆºèº«æ± é­šç‰‡ (D62)", "å…«çˆªé­šåˆ‡ç²’ (D05F)", "ä¸­åœ‹å¤§å…«çˆª (D05C)", "æ—¥æœ¬å¤§å…«çˆªAAA (D05)", "å…«çˆªé­šç‰‡ (D05B)", "Aç´šå…«çˆªé­šç‰‡ (D05BA)", "å·¦å£é­šé‚Šåˆºèº«1K (D58A)", "å·¦å£é­šé‚Šåˆºèº«20ç‰‡ (D58)", "ç‰¹ç´šå·¦å£é­šé‚Šåˆºèº« (D58C)", "å·¦å£é­šé‚Šåˆºèº«ï¼ˆä¸­åœ‹ï¼‰ (D58B)", "è‡ºç£é¯›é­šæŸ³ (D61C)", "é†‹é’é­šæŸ³ (D42)", "å®‰åº·é­šè‚ (D31A)", "ä¸­åœ‹é¯›é­šæŸ³ (D61B)", "å†°é ­æ¼¬ (D83)", "é‡é­šç‰‡ (D25)", "å¤§åŠé­šè…©(æœ‰çš®) (D18)", "ç´°åŠé­šè…©(æœ‰çš®) (D18A)", "æ—¥æœ¬ç´‹ç”²500g (D39B)", "æ—¥æœ¬ç´‹ç”²1kg (D39BA)"] }, 
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆåæ‹¿é­š/TOROï¼‰", items: ["æ—¥æœ¬å¤§TORO (D17D)", "æ—¥æœ¬ä¸­TORO (D17DD)", "èµ¤èº«Aï¼ˆæ—¥æœ¬ï¼‰ (D17G)", "æ€¥å‡è…¦å¤© (D17DE)", "åæ‹¿é­šé…’ç›œï¼ˆç´…ï¼‰ (C31H)", "é®ªé­šè…©ç¢(ç¯‰åœ°) (D79)", "æ—¥æœ¬ä»¿æ‹–ç¾…æ²¹è„‚ (D79A)", "åæ‹¿é­š4A (D17C)", "å°å°¼ä¸­æ‹–ç¾… (D17E)", "é°¹é­šé…’ç›œï¼ˆé»ƒï¼‰ (C31G)"] },
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆé­šç±½é¡ï¼‰", items: ["å±±åä¸‰æ–‡é­šç±½å¤§ç²’ (D19ER)", "å¤§ç²’èŸ¹ç±½ (D21)", "ä¸­ç²’èŸ¹ç±½ (D21A)", "é±’é­šç±½ï¼ˆé†¬æ²¹æ¼¬ï¼‰ (D19EA)", "é»‘è‰²é£›é­šç±½ (D21AA)", "250gè£ä¸‰æ–‡é­šç±½ (D19EK)", "æ˜å¤ªå­è“‰ (D57A)", "å¸Œéˆé­šç±½(é»ƒè‰²) (D51)", "æ—¥æœ¬èŠå£«èŸ¹ç±½ (D21D)", "å¸Œéˆé­šç±½ï¼ˆç¨ç«‹åŒ…è£ï¼‰ (D51B)", "é±˜é­šå­é†¬5g (D21FC)", "é±˜é­šå­é†¬10g (D21FA)", "é±˜é­šå­é†¬30g (D21FB)", "ä¸‰æ–‡é­šç±½é†¬æ²¹æ¼¬(å¤§ç²’) (D19E)"] }, 
        { cat: "è’²ç‡’é°»é­š/é¯–é­š", items: ["è’²ç‡’é°»é­š 30å°¾ (D22J)", "è’²ç‡’é°»é­š 35å°¾ (D22L)", "è’²ç‡’é°»é­š 40å°¾ (D22)", "è’²ç‡’é°»é­š 45å°¾ (D22C)", "è’²ç‡’é°»é­š 50å°¾ (D22A)", "è’²ç‡’é°»é­š 60å°¾ (D22D)", "è’²ç‡’é°»é­š 80å°¾ (D22I)", "è’²ç‡’é°»é­š 100å°¾ (D22G)", "é°»é­šç²’ (D22H)", "åŸæ¢æµ·é°»(ç©´å­) (D15B)", "é–‹é‚Šé’é­š100å°¾ (D42A)", "é–‹é‚Šé’é­š70å°¾ (D42AB)", "ç¨ç«‹é–‹é‚Šé’é­š (D42AA)", "çœŸç©ºåŸæ¢é°»é­š (D22E)", "é°»é­šç‰‡8g (D22FA)", "é°»é­šç‰‡10g (D22FB)", "é°»é­šç‰‡16g (D22FC)"] },
        { cat: "åˆºèº«å£½å¸ç”¨æ–™ï¼ˆèŸ¹æŸ³/å…¶ä»–ï¼‰", items: ["ä»¿çš‡å¸æ·¨èŸ¹æ£’è‚‰ï¼ˆKè£ï¼‰ (D46A)", "AHJIKANä»¿çš‡å¸èŸ¹æŸ³ (D46AA)", "æ³°åœ‹ä»¿æ¾è‘‰èŸ¹æ£’ (D46B)", "ç™½é¬†å¼›ç†Šé­šè›‹ (D16BB)", "é»ƒé¬†å¼›ç†Šé­šè›‹ (D16BA)", "è‡ºç£è²´å¦ƒé®‘ç‰‡ (D66A)", "å‘³ä»˜ä¸‰è§’æ²¹æ¥Š (D68)", "ç„¡å‘³æ²¹æ¥Š (D68B)", "å¤§å´èŸ¹æŸ³ (D60D)", "å¤§å‹èŸ¹æŸ³ (D46C)", "çå¯¶èŸ¹æ£’ (D46F)", "é³´é–€å· (D16)", "åšç‡’ç‰å­ (D06A)", "æ—¥æœ¬å£½å¸è›‹ (D06)", "åˆ‡çµ²è›‹ (D06C)"] },
        { cat: "è»è‰¦å’Œæ—¥å¼å°é£Ÿ", items: ["ä¸­è¯æ²™å¾‹2kg (D52)", "èŠéº»å…«çˆªä»”2kg (D50)", "èºè‚‰2kg (D53)", "å¸¶å­è£™é‚Š2kg (D54)", "èŠ¥è¾£ç†Ÿå…«çˆªé­š (D50A)", "æ˜å¤ªå­æ²™å¾‹(ä¸­åœ‹) (D57)", "é»ƒé‡‘é­·é­š (D49)", "ä¸­è¯æ²™å¾‹400g (D52A)", "å‘³ä»˜èºè‚‰400g (D53A)", "èŠéº»å…«çˆªé­š400g (D50AA)", "å¸¶å­è£™é‚Š400g (D54A)", "å‘³é™„å¢¨é­šä»” (D53B)", "èŠ¥è¾£ç”Ÿå…«çˆªé­š (D50B)", "é¾è¦æ²™å¾‹ (D55)", "æ«»èŠ±é­·é­š (D49B)", "æµ·è†½é­·é­šï¼ˆæ—¥æœ¬ï¼‰ (D49C)", "èŠ¥è¾£ç”Ÿå…«çˆª100g (D50BB)", "åŒ—å¯„è²æ²™å¾‹ (D56)", "å‡æŸšå­çš® (C31F)", "æ€¥å‡æè±† (D84)", "ç‡’é›ªé­šæ£’ (C54)", "å‘³æ·‹é­šä¹¾ (C35A)", "ç´…é­šé¬†ç²‰ (C67)", "åå‹ç´…è±† (C30E)", "ç¾åœ‹LIGOç²Ÿç±³ç²’ (D96B)", "è¿·ä½ ç‡’ç”œè–¯ (C30)"] },
        { cat: "æ€¥å‡æµ·ç”¢é¡--1", items: ["ç†Ÿå¸†ç«‹è²M (D09HC)", "ç†Ÿå¸†ç«‹è²L (D09HA)", "ç†Ÿå¸†ç«‹è²2L (D09H)", "ç†Ÿå¸†ç«‹è²5S (D09HB)", "åŠæ®¼å…ƒè²8-10cm (D43)", "æ‰‡è²æŸ±IQ (ç†Ÿé£Ÿ) (D02B)", "åŠ æ‹¿å¤§ç¿¡ç¿ èº (D29)", "å¸¶æ®¼å³é£Ÿèœ† (D97)", "æ€¥å‡æ±é¢¨èº (D07G)", "å»£å³¶è ”2L (D64)", "å»£å³¶è ”3L (D64AE)", "åŠæ®¼é’å£M (F03)", "æ™ºåˆ©è—é’å£40/70 (F03B)", "æ—¥å¼ç£¯ç…®é®‘é­š (D74A)", "æ»‹å‘³é®‘é­šè‚‰200g (D74C)"] },
        { cat: "æ€¥å‡æµ·ç”¢é¡--2", items: ["åŸéš»é­·é­šæ¡¶26/30 (D39D)", "åŸéš»é­·é­šæ¡¶(ç¨ç«‹) (D39DA)", "é˜¿æ ¹å»·é­·é­šä¸€å¤œå¹² (D39HA)", "éŠ€é±ˆé­š5-7ç£… (D26)", "éŸ“åœ‹åŠæ®¼è ” (F01DB)", "æ€¥å‡æ®¼ä»˜ç”Ÿè ”(åˆºèº«ç´š) (F01GB)", "åŸå‘³ç„¡éª¨é­šå¡Š (D61HC)", "æ—¥æœ¬é­·é­šä¸€å¤œå¹²(2éš»è£) (D39H)", "ç…™ä¸‰æ–‡é­š500g (D80A)", "ç…™ä¸‰æ–‡é­š100g (D80AA)", "æ€¥å‡ä¸‰æ–‡é­šæŸ³ (D80C)"] },
        { cat: "æ€¥å‡æµ·ç”¢é¡--3", items: ["å¤šæ˜¥é­š (D21BA)", "ç”Ÿé¾è¦å°¾ (D71)", "æœ‰é ­è™è¦ 4/6 (D03LEB)", "æœ‰é ­è™è¦ 6/8 (D03LEA)", "æœ‰é ­è™è¦ 8/10 (D03LE)", "æœ‰é ­è™è¦ 13/15 (D03LC)", "æœ‰é ­è™è¦ 16/20 (D03LCA)", "åŸéš»ç†Ÿè¦ (D03MB)", "å¤©å©¦ç¾…è¦5L (D10ED)", "æ€¥å‡ç†Ÿæ³¢æ–¯é “é¾è¦ (D70)", "è¦ä»ç£š21/25 (D03LJ)", "è¦ä»ç£š70/90 (D03LK)", "ç„¡é ­è™è¦16/20 (D03LB)"] },
        { cat: "æ€¥å‡æµ·ç”¢é¡--4", items: ["ç†Ÿå¸çš‡èŸ¹è…³4L (D72CA)", "ç”Ÿå¸çš‡èŸ¹è…³4L (D72C)", "ç«¹ç”°èƒèŸ¹é†¬ (C58)", "è¶Šæ²³èŸ¹è‚‰å‘³å™Œ (C58AB)", "è¶Šæ²³èŸ¹è“‹ (C58AC)", "æ¾è‘‰èŸ¹è‚‰ç¢ (D59D)", "è»Ÿæ®¼èŸ¹(å°‘å†°ï¼Œç´„8éš») (D12)", "é¾è¦å‘³å™Œ (C58A)", "æ··åˆé±ˆèŸ¹è‚‰500g (D59H)", "è»Ÿæ®¼èŸ¹(å°‘å†°ï¼Œç´„9éš») (D12A)", "äºŒæœ¬çˆªM (D60G)", "äºŒæœ¬çˆªL (D60H)", "ç†ŸèŸ¹æ‹æ£’500g (D72EC)", "ç†Ÿé›ªèŸ¹æ£’è‚‰L (D72ED)", "ç½é ­èŸ¹è‚‰CLAW (D59EA)"] },
        { cat: "è‚‰é¡1", items: ["æ‰‹ç¾½æ˜å¤ªå­é›ç¿¼ (E03)", "æ‰‹ç¾½èŠå£«è±¬è‚‰é›ç¿¼ (E03A)", "ç”Ÿé›è†è»Ÿéª¨ç²’ (D88C)", "èŠéº»é›ç¿¼ (E03F)", "æ˜å¤ªå­é›ç¿¼ï¼ˆæ—¥æœ¬ï¼‰ (E03K)", "ç„¡æ¿€ç´ é›æ‰’ (M008C)", "æ—¥å¼ç‚­ç‡’é›æ‰’ (E03JA)", "ç…™é´¨èƒ¸ (D76A)", "å·´è¥¿é›æ‰’ (M008E)", "é›ä¸­ç¿¼ (M008D)", "è¯å‘³é³¥é›è… (D88GA)", "è¯å‘³é³¥é›å¿ƒè‚ (D88GB)", "CPç‚¸é›è»Ÿéª¨ç²’1kg (D88DA)", "é¹½é…¥é› (E11C)", "é›éª¨è…¸ (E02)"] },
        { cat: "è‚‰é¡2", items: ["å…æ²»é›è‚‰æ£’ (D88AD)", "é–‹é‚Šç”Ÿé›ç¿¼ä¸² (D88E)", "ç‚­ç‡’é›è…¿è‚‰ä¸²ï¼ˆç›’è£ï¼‰ (D88A)", "ç§˜åˆ¶äº”èŠ±è…©ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FG)", "ç§˜åˆ¶é›çš®ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FD)", "é›è…¿è‚‰ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FE)", "é›è»Ÿéª¨ä¸² (D88)", "ç”Ÿé›çš®ä¸²ï¼ˆç›’è£ï¼‰ (D88AB)", "ç”Ÿé›è…ä¸²(ç›’è£) (D88AC)", "ç§˜åˆ¶è‚¥è…¸ï¼ˆç¢Ÿè£ï¼‰ (D88FB)", "é›è…ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FF)", "ç¾Šè‚‰ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FH)", "é›äº¦ä¸²ï¼ˆç¢Ÿè£ï¼‰ (D88FC)"] },
        { cat: "è‚‰é¡3", items: ["ä¸­åœ‹éµè‚ (D30)", "åŸéš»ç´…é…’éµè‚ (D30A)", "éµè‚ç‰‡ (D30D)", "é‡‘ç£šéµè‚ç‰‡ï¼ˆç´…é…’å‘³ï¼‰ (D30E)", "ä¸€å£ç‰›è‚‰ç²’ (M004)", "å’Œç‰›æ¼¢å ¡æ‰’ (H02AA)", "å’Œç‰›è…¿è‚‰ç‰‡ (M003M)", "A4å’Œç‰›è‚‰çœ¼æ‰’ (M003LA)", "A4å’Œç‰›è‚‰çœ¼ï¼ˆæŠ„ç¢¼ï¼‰ (M003LAA)", "ä¸­åœ‹é´¨è‚ (D30B)", "ç¾åœ‹è‚¥ç‰›ç‰‡2Kè£ (M003BD)", "å·´è¥¿ç‰›èˆŒ(ç›´æ¢) (M007)", "A4å’Œç‰›è¥¿å†·æ‰’ (M003LB)", "A4å’Œç‰›è¥¿å†·ï¼ˆæŠ„ç¢¼ï¼‰ (M003LBA)"] },
        { cat: "è‚‰é¡4", items: ["é»‘è±šè‚‰çœ¼ï¼ˆæ—¥æœ¬ï¼‰ (M010)", "å…§è’™å¤æ³•å¼ç¾Šæ‰’ (M006B)", "ä¸€å£è±šè‚‰ (M004B)", "æœæ´›å…‹é¢¨ä¹¾ç«è…¿ç‰‡ (D99)", "æ—¥å¼å‰ç‡’ (E06)", "æ—¥å¼èŠå£«æ¼¢å ¡æ‰’60g (H02A)", "è±¬è»Ÿéª¨ (E05)", "æ—¥å¼æ¼¢å ¡æ‰’ (H02)", "ç…™è‚‰ç‰‡ (D76B)", "æ—¥å¼å‰ç‡’ç‰‡ (E06A)", "è±šè‚‰ç‰‡2Kè£ (M010A)", "é›éª¨è…¸ (E02)", "é¦™èŠ‹åœ°ç“œä¸¸ (C30C)", "ç‚¸é­·é­šåœˆ (D41C)", "æ—¥å¼å‰ç‡’ç‰‡ (E06A)"] },
        { cat: "æ—¥å¼ç‚¸ç‰©1", items: ["20gå‰åˆ—è¦(ç™½ç³ ) (D10E)", "25gå‰åˆ—è¦ï¼ˆé»ƒç³ ï¼‰ (D10EAA)", "KS èŠå£«å¹´ç³• (D65)", "æ—¥æœ¬å‰åˆ—è ” (D64BA)", "æ—¥æœ¬ç‚¸å¹´ç³•ä¸² (D65C)", "ä¸­åœ‹å‰åˆ—è ” (D64B)", "ä¸€å£ç‚¸èŠå£« (D65AA)", "åŒ…è£å‰åˆ—è±¬æ‰’130g (E04EA)", "å‰åˆ—é­šæŸ³ (D61F)", "åŸç®±å‰åˆ—è±¬æ‰’130g (E04C)", "æ—¥å¼ç…èœè‚‰é¤ƒå­ (E08)", "é»‘æ¯›è±¬ç‚¸è‚‰é¤… (H03B)", "ç†”å²©æµ·è†½é­šé¤… (D01A)", "ç‚¸æ± é­šä»” (D62A)", "ç„¡é ­ç”œè¦L50 (D10KC)"] },
        { cat: "æ—¥å¼ç‚¸ç‰©2", items: ["å‰åˆ—ç‰›è‚‰è–¯é¤… (H01A)", "ç”˜æ —ç´«è–¯é¤… (H01F)", "å‰åˆ—å—ç“œè–¯é¤… (H01E)", "èŸ¹è‚‰å¿Œå»‰è–¯é¤… (H01)", "èŠå£«è–¯é¤… (H01G)", "é›çš®é¤ƒå­ (E08AA)", "å†·å‡é¢åŒ…ç³  (C60A)", "ç‚¸èŸ¹é‰— (D60F)", "æ‹‰çµ²èŠå£«ç¢ (D65B)", "æ—¥å¼ç« é­šç‡’50ç²’ (E09A)", "æ—¥å¼ç‚¸é›å¡Š (E11)", "å¤©å©¦ç¾…é­·é­š500g (D39GA)", "è»Šæ‰“èŠå£«ç‰‡12ç‰‡ (D65BB)", "é›™è‰²èŠå£«ç¢ (D65BA)"] },
        { cat: "æ—¥å¼ç”œå“/é£²æ–™", items: ["å¿Œå»‰æ³¡èŠ™ (C29C)", "ç´…è±†å’Œæœå­ (C30B)", "æœ±å¤åŠ›æ³¡èŠ™ (C29)", "èŠå£«è›‹ç³• (C47C)", "çºç¥­ä¸‰å‰²ä¹åˆ†ç´”ç±³å¤§åŸé†¸ (W004)", "äº¬å§¬åŒ ç´”ç±³å¤§åŸé†¸ (W005)", "å¤§å¶ºä¸‰ç²’ç±³å±±ç”°éŒ¦ (W003A)", "ORIONæ²–ç¹©æ”¯è£ç”Ÿå•¤ (W017A)", "å¯Œå£«å±±å¨å£«å¿Œ (W019)", "æœ¨æ‘å¯Œå£«å±±æŸšå­æ¢³æ‰“ (G04F)", "æ³¢å­æ±½æ°´(ç™½æª¸) (G03D)", "æœ¨æ‘èœœç“œå‘³æ±½æ°´ (G04A)", "æœ¨æ‘æ°´èœœæ¡ƒå‘³æ±½æ°´ (G04B)", "è è˜¿æ³¢å­æ±½æ°´ (G03E)", "æœ¨æ‘è˜‹æœå‘³æ±½æ°´ (G04)", "Sangariaæ°£æ°´ æ©™å‘³ (G01AA)", "Sangariaæ°£æ°´ åŸå‘³ (G01BA)", "Sangariaæ°£æ°´ èœœç“œå‘³ (G01CA)", "Sangariaæ°£æ°´ æå­å‘³ (G01DA)", "æ—¥æœ¬ç•ªè–¯ (C05A)"] },
        { cat: "èª¿å‘³æ–™", items: ["QPæ²™å¾‹é†¬ (C24A)", "ä¸˜æ¯”å‡±æ’’æ²™å¾‹æ± (C24G)", "ä¸˜æ¯”ç„™ç…èŠéº»æ²™å¾‹æ± (C24F)", "ä¸˜æ¯”æ—¥å¼æ²™å¾‹æ± (C24E)", "æ—¥æœ¬KENKOæ¿ƒå‘³èƒ¡éº»æ²™å¾‹æ± (C26)", "KENKOè’œè“‰ç‰›æ²¹æ± (C26A)", "KENKOèœ‚èœœèŠ¥æœ«é†¬ (C26AB)", "é£Ÿç ”å’Œé¢¨æ²™å¾‹æ± (C24B)", "å±±è‘µæ²™å¾‹æ± (C26B)", "æ±å­—å†·é¢æ±ï¼ˆ4å€æ¿ƒç¸®ï¼‰ (C26G)", "KENKOæŸšå­æ²™å¾‹æ± (C26C)", "æ—¥æœ¬GFCæ€¥å‡èŠ¥è¾£ (C28A)", "é‡‘å°èŠ¥èŒ‰ç²‰ (C28B)", "S&Bæ”¯è£é’èŠ¥è¾£ (C15)", "æ±å­—æ·¡å£è±‰æ²¹ (C14E)", "æºœæºœè±‰æ²¹ (C14I)", "è¬å­—è±‰æ²¹ï¼ˆæ”¯è£ï¼‰ (C14G)", "é­šç”Ÿè±‰æ²¹ï¼ˆè±æ³‰ï¼‰ (C14DA)", "æ—¥æœ¬å¤–è³£è±‰æ²¹åŒ… (C14J)", "æ±ä¸¸é­šç”Ÿè±‰æ²¹ (C14C)", "å‹è¾£èŠ¥èŒ‰ç²‰ (C28)", "é£Ÿç ”è¿·ä½ èŠ¥è¾£åŒ… (C15C)", "å±±è‘µé†¬æ²¹æ¼¬ (C28D)", "æ—¥æœ¬æ±å­—ä¹å·æ‹‰éºµæ± (C38A)", "5è™Ÿæ‹‰éºµæ± (C38)", "æ¡ƒå±‹æœé®®é†¬ (C45)", "ç¥æˆ¶é°»é­šæ± (C25)", "ç¥æˆ¶æœé®®é†¬ (C25B)", "åœ°ç„æ‹‰éºµæ± (C45A)", "è±æ³‰ç™½æ¹¯æ‹‰éººæ± (C38B)", "æ—¥æœ¬é»‘è’œæ²¹ (C79C)", "ç´…è‘‰è¾£æ¤’é†¬ (C45BA)", "å‘³å™Œæ¹¯åŒ… (C53F)", "ç…®é…’ (C36D)", "å‘³é†‚ (C19B)", "æ¡¶è£ç…®é…’ (C36E)", "æ¡¶è£å‘³é†‚ (C19C)", "åˆæˆé†‹KD39ï¼ˆéº¥è¿‘ï¼‰ (C22A)", "æ¡¶è£è¬å­—è±‰æ²¹ (C14GA)", "å„ªé¸é†‹ (C22D)", "ç™½èŠé†‹ï¼ˆéº¥è¿‘ï¼‰ (C20B)", "å¤§è±†ç™½é®«æ²¹ (C79)", "æ±Ÿæˆ¶å‰èµ¤é†‹ (C22E)", "æ—¥æ¸…éº»æ²¹1.5Lï¼ˆå¤§æ”¯ï¼‰ (C79B)", "ç©€ç‰©é†‹(éº¥è¿‘) (C20A)", "æŸšå­é†‹ï¼ˆéº¥è¿‘ï¼‰ (C20BA)", "å¤§æ»ç‰›è‚‰ç«é‹æ± (C42)", "èåŸç‡’è‚‰æ± (C44A)", "æª¸é†‹ (C22B)", "èˆµæ‰‹è±¬æ‰’æ± (C44)", "æ—¥å¼ç‡’é›æ± (C44C)", "ç”Ÿå§œç‡’ï¼ˆè±æ³‰ï¼‰ (C25E)", "ç¥æˆ¶ç‡’è‚‰æ± (C25A)", "ç¥æˆ¶å£½å–œç‡’æ± (C25J)", "è¬å­—ç™½æ˜†å¸ƒæœ¨é­šæ± (C26KB)", "é£Ÿç ”åŸå‘³çƒ¤è‚‰é†¬ (C34C)", "é£Ÿç ”ç…§ç‡’æ± (C25F)", "é£Ÿç ”è–‘å‘³çƒ¤è‚‰é†¬ (C34D)", "é£Ÿç ”è’œå‘³çƒ¤è‚‰é†¬ (C34E)", "é£Ÿç ”å±±è³Šç‡’é†¬ï¼ˆé»‘æ¤’æ±ï¼‰ (C34B)", "é£Ÿç ”ä»€éŒ¦æµ·è—» (C34A)", "é£Ÿç ”è¿·ä½ èŠ¥è¾£åŒ… (C15C)", "è–‘è“‰ (C27C)", "è’œè“‰ (C27D)", "S&Bä¸ƒå‘³(åŒ…è£) (C56A)", "ç‚¸é›ç²‰ (C60)", "æœ¨é­šèŠ± (C41)", "æœ¨é­šçµ² (C23)", "æ˜­å’Œå¤©å©¦ç¾…ç²‰ (C43)", "éŸ“åœ‹æŸšå­èœœ (C61)", "ä¸Šç™½ç³– (C51C)", "æ—¥æœ¬é¹½ (C51A)", "å‘³é¹½ (C51)", "S&Bä¸ƒå‘³ç²‰ (C56)", "æœ¨é­šç²¾ (C41A)", "ç€¬æˆ¶é¢¨å‘³æ³¡é£¯ç´  (C67B)", "å‘³æ¤’é¹½ (C51B)", "å‘³ä»˜æ¤’é¹½ (C51BB)", "S&Bå’–å–±ç£š ç”˜å£ (C39)", "S&Bå’–å–±ç£š è¾›å£ (C39A)", "S&Bå’–å–±ç£š ä¸­è¾› (C39B)", "é«˜å¸æ”¶ç†Ÿæˆè†œ (C92)", "é»‘æ¾éœ²é†¬ (C49)", "èŠ‹çµ² (C62A)", "è¿·è¿­é¦™ (C01E)", "è¥¿äº¬ç™½å‘³å™Œ (C53A)", "ä¸€ä¼‘å‘³å™Œ (C53B)", "ç™½èŠéº» (C65)", "ä¿¡æ´²ç™½å‘³å™Œ (C53)", "èŠ±ä¸¸æœ¨å‘³å™Œ (C53D)", "åˆæˆé†‹ï¼ˆéº¥è¿‘ï¼‰ (C22A)", "æ¡¶è£ç…®é…’ (C36E)"] },
        { cat: "éºµ/çƒå†¬/ç±³/èŒ¶", items: ["æ€¥å‡çœŸæ‰“ç¨»åº­çƒå†¬ (D82)", "æ€¥å‡æ‹‰éºµ (D82A)", "æ—¥å¼ä¹¾æ‹‰éºµ120g (C52E)", "å‡è•éº¥é¢ (D82E)", "ä¹¾è‘›çµ² (C62)", "äº”æœ¨èµ¤é¢ï¼ˆæ—¥æœ¬ï¼‰ (C52B)", "æ—¥æœ¬æ–°æ½Ÿç±³ (C69D)", "æ¡¶è£é†‹é–‹é—œè“‹ (C07G)", "é£¯ç¶² (C17)", "ç‚Šé£¯ç´  (C67C)", "å¤§éº¥èŒ¶åŒ… (C61B)", "ç„ç±³èŒ¶ (C61A)"] },
        { cat: "æ¼¬ç‰©", items: ["å£½å¸ç´…è–‘ (C27)", "å£½å¸ç™½è–‘ (C27A)", "ç‰›è’¡é†¬æ²¹æ¼¬ (C31B)", "è–‘èŠ½(30æœ¬) (C27B)", "æµ·è‘¡è„100g (D81A)", "é’é›å† è‰ (C09)", "æ³¡èœï¼ˆ400gï¼‰ (C87B)", "å¤§Lè˜¿ç™½ (C31)", "å‘³å™Œè’œé ­æ¼¬ (C31C)", "ç´…é›å† è‰ (C09A)", "å‘³ä»˜ç­ (C31D)", "é’æµ·è‰ (C10AA)"] },
        { cat: "ä¼´ç¢Ÿ/ä¹¾è²¨/å·¥å…·", items: ["è»è‰¦ç´«èœ50ç‰‡ (C18A)", "å£½å¸ç´«èœ50ç‰‡ (C18C)", "ç¥æˆ¶åˆ‡çµ²ç´«èœ (C18E)", "å–®ç¿¼æ‰‹æ²æµ·è‹” (C18F)", "æ—¥å‡ºæ˜†å¸ƒ (C57)", "ç¢æµ·è‰ (C10A)", "æµ·è‹”ç²‰ (C18G)", "ç´«èœæ¯ (C18J)", "æ—¥é«˜æ˜†å¸ƒ (C57A)", "å±±å½¢è† è‘‰ (C01B)", "æ«»èŠ±è¦ä¹¾500g (C03)", "æ«»èŠ±è¦ä¹¾90g (C03A)", "é†«ç”¨ä¸æ™´æ‰‹å¥— S (C50BA)", "é†«ç”¨ä¸æ™´æ‰‹å¥— M (C50BB)", "é†«ç”¨ä¸æ™´æ‰‹å¥— L (C50BC)", "ä¿é®®ç¶¿ç´™M (C70)", "914ä¿é®®ç´™ (C914SC)", "912ä¿é®®ç´™ (C912SC)", "910ä¿é®®ç´™ (C910SC)", "613éŒ«ç´™ (C613)", "3å¯¸æœ¨çš®èˆ¹ (C04C)", "æ‰‹å¥—S (C50AA)", "æ‰‹å¥—M (C50AB)", "å¤©å©¦ç¾…ç´™ (C43A)", "æœ¨ç›’ (C07)", "ç´°æœ¨ç›’ (C07A)", "æ—¥æœ¬JFDAæ¶ˆæ¯’é…’ç²¾ (C50D)"] }
    ];
    let productMap = {}, cart = {}, cartUnits = {}, cartModal = null, unitModal = null, pendingProductCode = null, nameModal = null;

    function init() {
        // V9.2 è‡ªåŠ©ç™»è¨˜
        const savedName = localStorage.getItem(storageKey + '_shopName');
        const savedCode = localStorage.getItem(storageKey + '_shopCode');
        
        // ç¢ºä¿åŠ è¼‰ç”¢å“åœ°åœ–
        productMap = {}; 
        fullCatalog.forEach(c=>{c.items.forEach(i=>{const m=i.match(/^(.*)\s*\(([A-Za-z0-9]+)\)$/);if(m)productMap[m[2]]={fullName:i,name:m[1],code:m[2]}})});

        if (savedName) {
            shopName = savedName;
            shopCode = savedCode || "---";
            updateHeaderDisplay();
        } else {
            nameModal = new bootstrap.Modal(document.getElementById('profileModal'));
            nameModal.show();
        }
        
        loadCart(); 
        
        // V9.2 Load frequent list
        const savedFrequent = localStorage.getItem(storageKey + '_freqData');
        if (savedFrequent) {
            try { frequentData = JSON.parse(savedFrequent); } catch(e) {}
        } else {
            const oldFrequent = localStorage.getItem(storageKey + '_freq');
            if (oldFrequent) {
                try { 
                    const oldArr = JSON.parse(oldFrequent); 
                    frequentData = oldArr.map(code => ({code: code, count: 1}));
                } catch(e) {}
            }
        }

        renderFrequent(); 
        renderAll();
        cartModal=new bootstrap.Modal(document.getElementById('cartModal')); 
        unitModal=new bootstrap.Modal(document.getElementById('unitSelectionModal'));
    }

    // === åº—åèˆ‡ç·¨è™Ÿç®¡ç† ===
    function saveProfile() {
        const nameInput = document.getElementById('inputShopName').value.trim();
        const codeInput = document.getElementById('inputShopCode').value.trim();
        
        if (!nameInput) {
            document.getElementById('nameError').style.display = 'block';
            return;
        }
        
        shopName = nameInput;
        shopCode = codeInput || "---";
        
        localStorage.setItem(storageKey + '_shopName', shopName);
        localStorage.setItem(storageKey + '_shopCode', shopCode);
        
        updateHeaderDisplay();
        
        if (nameModal) nameModal.hide();
        else {
            const modalEl = document.getElementById('profileModal');
            const modalInstance = bootstrap.Modal.getInstance(modalEl);
            if (modalInstance) modalInstance.hide();
        }
    }

    function openProfileModal() {
        document.getElementById('inputShopName').value = shopName;
        document.getElementById('inputShopCode').value = (shopCode === "---" || shopCode === "æ–°é–‹æˆ¶") ? "" : shopCode;
        document.getElementById('btnCancelProfile').style.display = 'block';
        document.getElementById('nameError').style.display = 'none';
        if (!nameModal) nameModal = new bootstrap.Modal(document.getElementById('profileModal'));
        nameModal.show();
    }

    function updateHeaderDisplay() {
        document.getElementById('displayClientName').innerText = shopName;
        document.getElementById('displayClientCode').innerText = shopCode;
    }

    // å¸¸ç”¨æ¸…å–®æ•¸æ“šçµæ§‹: Array of {code: "A01", count: 5}
    let frequentData = []; 

    // é‡ç½®å¸¸ç”¨æ¸…å–®
    function resetFrequentList() {
        if(confirm("ç¢ºå®šè¦æ¸…ç©ºã€Œå¸¸ç”¨æ¸…å–®ã€çš„æ‰€æœ‰ç´€éŒ„å—ï¼Ÿ\n(æ­¤æ“ä½œç„¡æ³•å¾©åŸ)")){
            frequentData = [];
            localStorage.removeItem(storageKey + '_freqData');
            localStorage.removeItem(storageKey + '_freq');
            renderFrequent();
            alert("å¸¸ç”¨æ¸…å–®å·²é‡ç½®ã€‚");
        }
    }

    function toggleAddonMode() {
        const isAddon = document.getElementById('addonCheck').checked;
        const label = document.getElementById('addonLabel');
        const sendBtn = document.getElementById('sendBtn');
        
        if(isAddon) {
            label.classList.add('active');
            sendBtn.classList.remove('btn-whatsapp');
            sendBtn.classList.add('btn-danger'); 
            sendBtn.innerHTML = '<i class="bi bi-box-arrow-in-up"></i> ç™¼é€ã€å¾ŒåŠ ã€‘';
        } else {
            label.classList.remove('active');
            sendBtn.classList.remove('btn-danger');
            sendBtn.classList.add('btn-whatsapp');
            sendBtn.innerHTML = '<i class="bi bi-whatsapp"></i> ç™¼é€è¨‚å–®';
        }
    }

    function loadCart() {
        const c=localStorage.getItem(storageKey + '_cart'), u=localStorage.getItem(storageKey + '_units');
        if(c)try{cart=JSON.parse(c)}catch(e){} if(u)try{cartUnits=JSON.parse(u)}catch(e){}
        calcTotal();
    }
    function saveCart() {
        localStorage.setItem(storageKey + '_cart', JSON.stringify(cart));
        localStorage.setItem(storageKey + '_units', JSON.stringify(cartUnits));
    }
    function switchTab(t){document.querySelectorAll('.tab-content').forEach(e=>e.classList.remove('active'));document.querySelectorAll('.nav-link').forEach(e=>e.classList.remove('active'));document.getElementById('tab-'+t).classList.add('active');event.target.classList.add('active');if(t==='all'){clearSearch();document.getElementById('searchBar').style.display='block';window.scrollTo(0,0)}else{document.getElementById('searchBar').style.display='none'}}
    
    function renderFrequent(){
        const c=document.getElementById('tab-frequent');
        if(!frequentData || frequentData.length===0){
            c.innerHTML='<div class="text-center p-5 text-muted"><i class="bi bi-stars" style="font-size: 2rem; color: #ffc107;"></i><p class="mt-3">æ‚¨çš„å¸¸ç”¨æ¸…å–®ç›®å‰æ˜¯ç©ºçš„ã€‚</p><p style="font-size: 0.9rem;">ç•¶æ‚¨å¾ã€Œå…¨éƒ¨ç”¢å“ã€ç™¼é€è¨‚å–®å¾Œï¼Œ<br>ç³»çµ±æœƒè‡ªå‹•å°‡ç”¢å“åŠ å…¥æ­¤è™•ã€‚</p></div>';
            return;
        }
        
        // Sort by count (descending)
        frequentData.sort((a, b) => b.count - a.count);

        let h='';
        frequentData.forEach(item=>{
            const p=productMap[item.code];
            h+=p?createProductRow(p.fullName):createProductRow(item.code+' (æœªçŸ¥)');
        });
        
        // Add Reset Button at the bottom
        h += `<div class="freq-footer"><button class="btn-reset-freq" onclick="resetFrequentList()"><i class="bi bi-trash3"></i> æ¸…ç©ºå¸¸ç”¨æ¸…å–®ç´€éŒ„</button></div>`;
        
        c.innerHTML=h;
    }

    function renderAll(f=''){const c=document.getElementById('tab-all');let h='';const t=f.toUpperCase().split('');fullCatalog.forEach(cat=>{const items=cat.items.filter(i=>{if(!f)return true;const u=i.toUpperCase();return t.every(x=>u.includes(x))});if(items.length>0){if(!f)h+=`<div class="cat-header">${cat.cat}</div>`;items.forEach(i=>h+=createProductRow(i))}});if(h==='')h='<div class="text-center p-5 text-muted">æ‰¾ä¸åˆ°ç›¸é—œç”¢å“</div>';c.innerHTML=h}
    
    function createProductRow(s){
        let n=s,c='UNKNOWN';const m=s.match(/^(.*)\s*\(([A-Za-z0-9]+)\)$/);if(m){n=m[1];c=m[2]}else{c=s.replace(/[^a-zA-Z0-9]/g,'')}
        const q=cart[c]||0; let val=q, cls='qty-input'; if(q>0&&cartUnits[c]==='kg'){val+=' K';cls+=' unit-kg'}
        const sel=q>0?'selected':'';
        return `<div class="product-row ${sel}" id="row-${c}"><div class="p-info"><div class="p-name">${n}</div><div class="p-code">${c}</div></div><div class="qty-control"><div class="qty-btn" onclick="updateQty('${c}',-1)">-</div><input type="text" class="${cls}" id="qty-${c}" value="${val}" readonly><div class="qty-btn" onclick="updateQty('${c}',1)">+</div></div></div>`
    }
    
    function filterAllProducts(){const v=document.getElementById('searchInput').value;document.getElementById('clearSearchBtn').style.display=v.length?'block':'none';renderAll(v)}
    function clearSearch(){document.getElementById('searchInput').value='';document.getElementById('clearSearchBtn').style.display='none';renderAll('')}
    
    function updateQty(c,d){
        if(eelProducts.includes(c)){
            if(d>0&&(!cart[c]||cart[c]===0)){cart[c]=5;cartUnits[c]='kg'}else{if(!cart[c])cart[c]=0;cart[c]+=d*5}
            if(cart[c]<=0){delete cart[c];delete cartUnits[c]}
            syncUI(c); return;
        }
        if(d>0&&(!cart[c]||cart[c]===0)&&weightedProducts.includes(c)&&!cartUnits[c]){
            pendingProductCode=c;
            const btn=document.getElementById('btn-unit-piece');
            btn.innerHTML=(c==='B01')?'<i class="bi bi-box-seam"></i> éš»<br>(é»˜èª)':'<i class="bi bi-box-seam"></i> ä»¶ / åŒ…<br>(é»˜èª)';
            unitModal.show(); return;
        }
        if(!cart[c])cart[c]=0; cart[c]+=d;
        if(cart[c]<=0){delete cart[c];delete cartUnits[c]}
        syncUI(c);
    }
    function confirmUnit(u){if(pendingProductCode){cartUnits[pendingProductCode]=u;updateQty(pendingProductCode,1);unitModal.hide();pendingProductCode=null}}
    
    function syncUI(c){
        const q=cart[c]||0, u=cartUnits[c];
        document.querySelectorAll(`#qty-${c}`).forEach(i=>{
            i.className='qty-input'+(u==='kg'?' unit-kg':'');
            i.value=q+(u==='kg'?' K':'');
            const r=i.closest('.product-row');
            if(r&&!r.classList.contains('modal-row')){q>0?r.classList.add('selected'):r.classList.remove('selected')}
        });
        // ç¢ºä¿æ›´æ–°å¾Œç«‹å³å„²å­˜
        calcTotal(); 
        saveCart(); 
        if(document.getElementById('cartModal').classList.contains('show')) renderCartModalItems();
    }
    
    function clearCart(){if(Object.keys(cart).length===0)return;if(confirm("ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰å·²é¸è²¨å“å—ï¼Ÿ")){cart={};cartUnits={};saveCart();renderFrequent();renderAll();calcTotal();renderCartModalItems()}}
    
    function calcTotal(){
        const count=Object.keys(cart).length; document.getElementById('totalQty').innerText=count;
        const b=document.getElementById('viewCartBtn');
        if(count>0){b.classList.add('active');b.disabled=false;b.innerHTML=`<i class="bi bi-cart-check-fill"></i> æŸ¥çœ‹å·²é¸ (${count})`}else{b.classList.remove('active');b.disabled=true;b.innerHTML=`<i class="bi bi-cart3"></i> æŸ¥çœ‹å·²é¸`}
    }
    
    function openCartModal(){renderCartModalItems();cartModal.show()}
    
    function renderCartModalItems(){
        const c=document.getElementById('cartModalBody');
        if(Object.keys(cart).length===0){c.innerHTML='<div class="text-center p-4 text-muted">å°šæœªé¸æ“‡ä»»ä½•ç”¢å“</div>';return}
        let h=''; for(let k in cart){const p=productMap[k];h+=createProductRow(p?p.fullName:`${k} (æœªçŸ¥)`);} c.innerHTML=h;
    }
    
    function sendWhatsApp(){
        if(Object.keys(cart).length===0){alert("è«‹å…ˆé¸æ“‡ç”¢å“ï¼");return}
        
        // V9.2 Learning Logic: Update Counts
        let updated = false;
        for(let code in cart){
            let found = frequentData.find(item => item.code === code);
            if(found){
                found.count++; // Increment count
            } else {
                frequentData.push({code: code, count: 1}); // Add new with count 1
            }
            updated = true;
        }
        
        if(updated) {
            localStorage.setItem(storageKey + '_freqData', JSON.stringify(frequentData));
            // Don't render frequent yet, wait until after send
        }

        // Prepare Message
        let codeDisplay = (shopCode === "---" || !shopCode) ? "(æ–°é–‹æˆ¶)" : shopCode;
        
        // V6.6 Add-on Logic (Clean Format)
        const isAddon = document.getElementById('addonCheck').checked;
        let msg = "";
        
        if (isAddon) {
            msg = `ã€å¾ŒåŠ ã€‘\n${codeDisplay} ${shopName} (è«‹åˆä½µ)\nè¨‚è²¨å–®ï¼š\n\n`;
        } else {
            msg = `${codeDisplay} ${shopName}\nè¨‚è²¨å–®ï¼š\n\n`;
        }

        const fmt=c=>{const p=productMap[c];const n=p?p.name:c;let q=cart[c].toString();if(cartUnits[c]==='kg')q+='K';return ` ${q.padEnd(5,' ')} ${n} (${c})\n`};
        
        for(let c in cart){
            msg+=fmt(c);
        }
        
        // V8.3 Feature: Open WhatsApp then CLEAR CART
        window.open(`https://wa.me/85263771688?text=${encodeURIComponent(msg)}`,'_blank');
        
        // Auto Clear Cart after sending (V9.2 Fix: Refresh BOTH tabs)
        setTimeout(() => {
            cart = {}; 
            cartUnits = {};
            saveCart();
            renderAll();        // Refresh All Products tab
            renderFrequent();   // Refresh Frequent tab (CRITICAL FIX)
            calcTotal();
            if(document.getElementById('cartModal').classList.contains('show')) {
                cartModal.hide();
            }
            // Reset addon check
            document.getElementById('addonCheck').checked = false;
            toggleAddonMode();
        }, 1000); 
    }
    
    // Start!
    init();
</script>

</body>
</html>

